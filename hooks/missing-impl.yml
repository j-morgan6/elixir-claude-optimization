---
name: missing-impl
description: Block callback implementations without @impl true
action: block
patterns:
  - regex: 'def\s+(mount|handle_event|handle_info|handle_call|handle_cast|render|init|terminate)\('
    message: |
      Callback function detected without @impl true attribute.

      Always add @impl true before implementing behaviour callbacks.

      Instead of:
        def mount(_params, _session, socket) do
          {:ok, socket}
        end

      Use:
        @impl true
        def mount(_params, _session, socket) do
          {:ok, socket}
        end

      This provides compile-time verification that you're implementing
      the correct callback with the correct arity.
    exceptions:
      - regex: '@impl\s+(true|Phoenix\.LiveView|GenServer)\s+def\s+(mount|handle_event|handle_info|handle_call|handle_cast|render|init|terminate)\('
